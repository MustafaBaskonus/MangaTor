@model CommentDtoForDetail


<!-- Comments -->
<div>
    <div class="media-block pad-all">
        <a class="media-left" href="#"><img class="img-circle img-sm" alt="Profile Picture" src="https://bootdey.com/img/Content/avatar/avatar2.png"></a>
        <div class="media-body">
            <div class="mar-btm">
                <a href="#" class="btn-link text-semibold media-heading box-inline">@Model.UserName</a>
                <p class="text-muted text-sm"><i class="fa fa-globe fa-lg"></i> - @Model.CreatedAt </p>
            </div>
            <p> @Model.Content</p>
            @if (User.Identity.IsAuthenticated)
            {
                <div class="panel">
                    <div class="panel-body">
                        <form asp-action="AddComment" method="post" class="btn btn-sm btn-default btn-hover-primary mt-1">
                            <input type="hidden" name="comicId" value="@Model.ComicId" />
                            <input type="hidden" name="chapterId" value="@Model.ChapterId" />
                            <input type="hidden" name="parentId" value="@Model.Id" />
                            <textarea name="newComment" class="form-control" rows="2" placeholder="What are you thinking?"></textarea>
                            <div class="mar-top clearfix">
                                <button class="btn btn-sm btn-primary pull-right" type="submit"><i class="fa fa-pencil fa-fw"></i> Yanıtla</button>
                                <a class="btn btn-trans btn-icon fa fa-video-camera add-tooltip" href="#"></a>
                                <a class="btn btn-trans btn-icon fa fa-camera add-tooltip" href="#"></a>
                                <a class="btn btn-trans btn-icon fa fa-file add-tooltip" href="#"></a>
                            </div>
                        </form>
                    </div>
                </div>
            }
            <hr>
            <!-- Comments -->
            @if (Model.Replies.Any())
            {
                <ul>
                    @foreach (var reply in Model.Replies)
                    {
                        @await Html.PartialAsync("_CommentPartial", reply)
                    }
                </ul>
            }
        </div>
    </div>
</div>






@*
                        <li>
    <b>@Model.User.UserName</b>: @Model.Content <small>(@Model.CreatedAt)</small>

    @if (User.Identity.IsAuthenticated)
    {
        <form asp-action="AddComment" method="post" class="mt-1">
            <input type="hidden" name="comicId" value="@Model.ComicId" />
            <input type="hidden" name="parentId" value="@Model.Id" />
            <textarea name="newComment" class="form-control form-control-sm"></textarea>
            <button type="submit" class="btn btn-sm btn-secondary mt-1">Yanıtla</button>
        </form>
    }

    @if (Model.Replies.Any())
    {
        <ul>
            @foreach (var reply in Model.Replies)
            {
                @await Html.PartialAsync("_CommentPartial", reply)
            }
        </ul>
    }
</li>
                    *@